#N canvas 381 119 495 551 12;
#X declare -path abs;
#N canvas 788 130 1087 757 guts 0;
#X obj 43 349 text define notes;
#X msg 43 223 sort;
#X obj 307 510 tabplay~ soundfile-left;
#X obj 483 510 tabplay~ soundfile-right;
#X obj 308 704 dac~ 1 2, f 9;
#X msg 374 333 2;
#X msg 374 202 0;
#X obj 608 649 send nextnote;
#X obj 307 106 receive nextnote;
#X obj 307 367 text get notes 0 2;
#X obj 374 309 loadbang;
#X obj 42 72 generate-testfile;
#X obj 44 549 text define shotcutxml;
#X msg 44 434 write -c shotcut_snippet.xml;
#X msg 515 225 -1;
#X obj 515 250 text delete shotcutxml;
#X msg 318 459 stop;
#X obj 255 32 declare -path abs;
#X obj 43 198 r sortnotes;
#X msg 61 312 click;
#X msg 109 312 close;
#X obj 61 259 r shownotes;
#X floatatom 857 357 5 0 0 0 - - - 0;
#X obj 804 298 text search notes 0 near 3;
#X msg 804 261 53 5278;
#X obj 804 322 route -1;
#X obj 719 455 print;
#X obj 719 274 t l l;
#X msg 719 311 set \$1;
#X msg 719 397 67;
#X msg 719 430 \$1\\\ has no match!;
#X msg 731 144 stop;
#X text 720 43 MIDI file comparison;
#N canvas 1029 175 291 378 add_timing_information 0;
#X obj 20 20 inlet;
#X obj 20 303 outlet;
#X obj 20 84 unpack;
#X obj 20 166 timer 1 samp;
#X obj 20 112 sel 0;
#X msg 20 58 \$2 \$1;
#X obj 20 189 round;
#X obj 20 141 t b f;
#X obj 20 215 pack f f f;
#X msg 20 241 \$3 \$1;
#X obj 123 167 - 3;
#X obj 141 134 r transpose;
#X connect 0 0 5 0;
#X connect 2 0 4 0;
#X connect 2 1 10 0;
#X connect 3 0 6 0;
#X connect 4 0 3 1;
#X connect 4 1 7 0;
#X connect 5 0 2 0;
#X connect 6 0 8 0;
#X connect 7 0 3 0;
#X connect 7 1 8 1;
#X connect 8 0 9 0;
#X connect 9 0 1 0;
#X connect 10 0 8 2;
#X connect 11 0 10 1;
#X restore 719 200 pd add_timing_information;
#N canvas 657 188 398 303 MIDI_file_playback 0;
#X obj 20 20 inlet;
#X obj 20 166 outlet;
#X obj 20 130 cyclone/midiparse;
#X obj 20 107 cyclone/midiflush;
#X obj 20 48 cyclone/seq;
#X obj 93 76 s midi_done;
#X connect 0 0 4 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X restore 719 172 pd MIDI_file_playback;
#N canvas 1379 513 483 531 write_shotcut_xml 0;
#X obj 20 20 inlet;
#X msg 63 217 msec;
#X obj 63 186 loadbang;
#X obj 30 255 msec2smpte;
#X obj 30 148 samp2msec;
#X msg 73 385 1e+15;
#X obj 73 353 loadbang;
#X obj 30 412 text set shotcutxml;
#X obj 30 60 unpack f f;
#X obj 62 122 +;
#X obj 30 87 t f f;
#X obj 130 249 msec2smpte;
#X obj 130 144 samp2msec;
#X obj 30 289 pack s s;
#X msg 30 320 list <entry producer="chain1" in="\$1" out="\$2" />;
#X connect 0 0 8 0;
#X connect 1 0 3 0;
#X connect 1 0 11 0;
#X connect 2 0 1 0;
#X connect 3 0 13 0;
#X connect 4 0 3 0;
#X connect 5 0 7 1;
#X connect 6 0 5 0;
#X connect 8 0 10 0;
#X connect 8 1 9 1;
#X connect 9 0 12 0;
#X connect 10 0 4 0;
#X connect 10 1 9 0;
#X connect 11 0 13 1;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X connect 14 0 7 0;
#X restore 404 438 pd write_shotcut_xml;
#X obj 61 286 sel 1 0;
#X msg 57 518 click;
#X msg 105 518 close;
#X obj 57 492 sel 1 0;
#X obj 57 465 r showxml;
#N canvas 1067 116 789 803 playback_and_analysis 0;
#X floatatom 301 356 5 0 0 0 - - - 0;
#X floatatom 395 361 5 0 0 0 - - - 0;
#X obj 416 413 round;
#X obj 284 383 round;
#X floatatom 173 761 15 0 0 0 - - - 0;
#X text 121 177 ← stop playback;
#X obj 282 760 text set notes;
#X msg 313 733 1e+15;
#X obj 67 113 text delete notes;
#X msg 67 88 -1;
#X obj 313 706 loadbang;
#X obj 284 309 sigmund~ -hop 64 -stabletime 30 -minpower 40 -vibrato
0.8 notes env;
#X obj 173 437 timer 1 samp;
#X text 82 151 ← play soundfile;
#X obj 282 538 pack f f f;
#X obj 173 469 t f f;
#X obj 282 592 timer 1 samp;
#X obj 282 565 t b l;
#X floatatom 236 627 5 0 0 0 - - - 0;
#X obj 314 624 unpack f f f;
#X obj 282 652 pack f f f f, f 16;
#X msg 282 679 \$3 \$4 \$2 \$1;
#X obj 435 512 change;
#X obj 435 484 > 40;
#X obj 435 538 sel 0;
#N canvas 199 675 450 300 note-off 0;
#X obj 83 49 inlet;
#X obj 185 49 inlet;
#X obj 84 148 outlet;
#X obj 134 49 inlet;
#X obj 79 106 once;
#X connect 0 0 4 1;
#X connect 1 0 4 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X restore 361 565 pd note-off;
#X obj 283 413 t b f b b, f 17;
#X msg 120 86 0, f 2;
#X obj 37 234 tabplay~ soundfile-left;
#X obj 242 236 tabplay~ soundfile-right;
#X msg 38 152 bang;
#X msg 88 177 stop;
#X obj 37 203 t b b, f 20;
#X obj 38 13 r startplayback;
#X obj 680 368 s sigmundenv;
#X obj 495 450 r envthreshold;
#X msg 194 95 \; pd dsp 1;
#X obj 38 43 t b b b b, f 34;
#N canvas 1473 265 402 440 show_playback_status 0;
#X obj 27 19 inlet;
#X obj 74 20 inlet;
#X obj 30 195 s analysis_status;
#X msg 28 110 label playing_back;
#X msg 71 65 label finished;
#X obj 66 137 loadbang;
#X msg 66 162 label status;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X restore 305 275 pd show_playback_status;
#X obj 37 312 throw~ left;
#X obj 128 314 throw~ right;
#X connect 2 0 14 2;
#X connect 3 0 26 0;
#X connect 7 0 6 1;
#X connect 9 0 8 0;
#X connect 10 0 7 0;
#X connect 11 0 0 0;
#X connect 11 0 3 0;
#X connect 11 1 1 0;
#X connect 11 1 2 0;
#X connect 11 1 34 0;
#X connect 11 1 23 0;
#X connect 12 0 15 0;
#X connect 14 0 17 0;
#X connect 15 0 4 0;
#X connect 15 1 14 0;
#X connect 16 0 18 0;
#X connect 16 0 20 0;
#X connect 17 0 16 0;
#X connect 17 1 19 0;
#X connect 19 0 20 1;
#X connect 19 1 20 2;
#X connect 19 2 20 3;
#X connect 20 0 21 0;
#X connect 21 0 6 0;
#X connect 22 0 24 0;
#X connect 23 0 22 0;
#X connect 24 0 25 2;
#X connect 25 0 16 1;
#X connect 26 0 12 1;
#X connect 26 1 14 1;
#X connect 26 2 25 0;
#X connect 26 3 25 1;
#X connect 27 0 8 0;
#X connect 28 0 11 0;
#X connect 28 0 39 0;
#X connect 29 0 11 0;
#X connect 29 0 40 0;
#X connect 29 1 38 1;
#X connect 30 0 32 0;
#X connect 31 0 28 0;
#X connect 31 0 29 0;
#X connect 32 0 28 0;
#X connect 32 0 29 0;
#X connect 32 1 12 0;
#X connect 33 0 37 0;
#X connect 35 0 23 1;
#X connect 37 0 30 0;
#X connect 37 1 9 0;
#X connect 37 2 36 0;
#X connect 37 3 38 0;
#X restore 44 35 pd playback_and_analysis;
#X text 234 7 cyclone library needed for MIDI file playback!;
#X obj 44 409 r savexml;
#X obj 307 395 t l l;
#N canvas 1301 685 200 176 counter 0;
#X obj 20 20 inlet;
#X obj 72 22 inlet;
#X obj 19 146 outlet;
#X obj 70 146 outlet;
#X obj 19 79 f;
#X obj 82 83 + 1;
#X obj 19 105 t f f f;
#X connect 0 0 4 0;
#X connect 1 0 4 1;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 2 0;
#X connect 6 1 5 0;
#X connect 6 2 3 0;
#X restore 307 228 pd counter;
#X obj 340 140 r play_notes;
#N canvas 1168 502 200 211 show_line# 0;
#X obj 20 20 inlet;
#X obj 137 60 loadbang;
#X obj 30 121 s playback_note;
#X msg 137 84 label line_#;
#X msg 30 85 label _\$1;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X restore 374 255 pd show_line#;
#X obj 340 172 t b b b, f 21;
#X obj 718 66 r play_midi;
#X msg 719 121 read \, start;
#X obj 653 543 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X floatatom 335 265 5 0 0 0 - - - 0;
#X obj 610 618 spigot 1;
#X obj 721 575 r midi_done;
#X msg 721 600 1;
#X obj 719 92 t b b;
#X obj 685 521 r play_midi;
#X msg 658 580 0;
#X obj 327 571 catch~ left;
#X obj 421 573 catch~ right;
#X obj 405 652 line~;
#X obj 367 680 *~;
#X obj 308 680 *~;
#X msg 430 628 \$1 20;
#X obj 431 605 r volume;
#X obj 43 108 loadbang;
#X msg 43 133 0.15;
#X obj 43 158 s volume-r;
#X obj 48 627 loadbang;
#X obj 48 677 s envthreshold-r;
#X msg 48 652 64;
#X connect 1 0 0 0;
#X connect 2 0 63 0;
#X connect 3 0 62 0;
#X connect 3 1 51 0;
#X connect 3 1 53 0;
#X connect 5 0 9 2;
#X connect 5 0 9 1;
#X connect 6 0 45 1;
#X connect 8 0 45 0;
#X connect 9 0 44 0;
#X connect 10 0 5 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 16 0 2 0;
#X connect 16 0 3 0;
#X connect 18 0 1 0;
#X connect 19 0 0 0;
#X connect 20 0 0 0;
#X connect 21 0 36 0;
#X connect 23 0 25 0;
#X connect 24 0 23 0;
#X connect 25 0 29 0;
#X connect 25 1 22 0;
#X connect 25 1 9 0;
#X connect 27 0 28 0;
#X connect 27 1 23 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 26 0;
#X connect 31 0 34 0;
#X connect 33 0 27 0;
#X connect 34 0 33 0;
#X connect 36 0 19 0;
#X connect 36 1 20 0;
#X connect 37 0 12 0;
#X connect 38 0 12 0;
#X connect 39 0 37 0;
#X connect 39 1 38 0;
#X connect 40 0 39 0;
#X connect 43 0 13 0;
#X connect 44 0 2 0;
#X connect 44 0 3 0;
#X connect 44 1 35 0;
#X connect 45 0 9 0;
#X connect 45 1 47 0;
#X connect 45 1 52 0;
#X connect 46 0 48 0;
#X connect 48 0 45 0;
#X connect 48 1 6 0;
#X connect 48 2 14 0;
#X connect 49 0 56 0;
#X connect 50 0 34 0;
#X connect 53 0 7 0;
#X connect 54 0 55 0;
#X connect 55 0 53 1;
#X connect 56 0 50 0;
#X connect 56 1 14 0;
#X connect 57 0 58 0;
#X connect 58 0 53 1;
#X connect 59 0 63 0;
#X connect 60 0 62 0;
#X connect 61 0 62 1;
#X connect 61 0 63 1;
#X connect 62 0 4 1;
#X connect 63 0 4 0;
#X connect 64 0 61 0;
#X connect 65 0 64 0;
#X connect 66 0 67 0;
#X connect 67 0 68 0;
#X connect 69 0 71 0;
#X connect 71 0 70 0;
#X restore 25 481 pd guts;
#X obj 18 20 cnv 15 450 450 empty empty empty 20 12 0 14 #fce0c4 #404040
0;
#X obj 30 227 bng 30 250 50 0 startplayback empty analyze! 32 7 0 10
#fc8000 #005060 #000000;
#X obj 30 292 bng 30 250 50 0 sortnotes sortnotes-r sort_notes 32 7
0 10 #f8fc00 #005060 #000000;
#X obj 246 39 vsl 15 128 0 127 0 0 empty sigmundenv empty 0 -9 0 10
#dcdcdc #000000 #000000 0 1;
#X obj 264 39 vsl 15 128 0 127 0 0 envthreshold envthreshold-r empty
0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X text 283 87 ← set level of 'silence';
#X obj 30 36 sampledisplay;
#X obj 112 236 cnv 15 120 18 empty analysis_status status 10 9 0 14
#e0e0e0 #404040 0;
#X obj 30 264 tgl 20 0 shownotes empty show_notes 32 7 0 10 #f8fc00
#000000 #000000 0 1;
#X obj 350 264 tgl 20 0 showxml empty show_XML 32 7 0 10 #f8fc00 #000000
#000000 0 1;
#X obj 350 292 bng 30 250 50 0 savexml savexml-r save_XML 32 7 0 10
#f8fc00 #005060 #000000;
#X obj 30 330 bng 20 250 50 0 play_notes play_notes-r playback_notes
32 7 0 10 #f8fc00 #005060 #000000;
#X obj 112 346 cnv 15 120 18 empty playback_note line_# 10 9 0 14 #e0e0e0
#404040 0;
#X text 62 345 Line#;
#X floatatom 122 395 5 0 0 1 transpose - transpose 0;
#X obj 30 374 bng 30 250 50 0 play_midi play_midi-r open_MIDI_play_and_find_notes
32 7 0 10 #f8fc00 #005060 #000000;
#X text 26 429 watch console for errors \, transpose if necessary;
#X obj 333 488 hsl 128 15 0.01 1 1 0 volume volume-r volume -2 -8 0
10 #fcfcfc #000000 #000000 0 1;
